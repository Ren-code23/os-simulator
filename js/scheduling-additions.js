
// Sample Data Functions for Scheduling
function loadSchedulingSample(sampleNum) {
    // Clear existing processes
    processes = [];
    
    if (sampleNum === 1) {
        // Basic Example
        processes = [
            {id: 0, arrivalTime: 0, burstTime: 5, priority: 2},
            {id: 1, arrivalTime: 1, burstTime: 3, priority: 1},
            {id: 2, arrivalTime: 2, burstTime: 8, priority: 3}
        ];
    } else if (sampleNum === 2) {
        // Multiple Processes
        processes = [
            {id: 0, arrivalTime: 0, burstTime: 4, priority: 2},
            {id: 1, arrivalTime: 1, burstTime: 3, priority: 3},
            {id: 2, arrivalTime: 2, burstTime: 1, priority: 1},
            {id: 3, arrivalTime: 3, burstTime: 5, priority: 4},
            {id: 4, arrivalTime: 4, burstTime: 2, priority: 2}
        ];
    } else if (sampleNum === 3) {
        // Complex Case
        processes = [
            {id: 0, arrivalTime: 0, burstTime: 8, priority: 3},
            {id: 1, arrivalTime: 1, burstTime: 4, priority: 2},
            {id: 2, arrivalTime: 2, burstTime: 9, priority: 1},
            {id: 3, arrivalTime: 3, burstTime: 5, priority: 4},
            {id: 4, arrivalTime: 4, burstTime: 3, priority: 2}
        ];
    }
    
    displayProcessList();
}

// Export Functions for Scheduling
function exportSchedulingResults() {
    const resultsDiv = document.getElementById('schedulingResults');
    if (!resultsDiv || resultsDiv.innerHTML.trim() === '') {
        alert('No results to export. Please calculate first.');
        return;
    }
    
    const algorithm = document.getElementById('schedulingAlgorithm').value;
    const algorithmNames = {
        'fcfs': 'First-Come, First-Served (FCFS)',
        'sjf': 'Shortest Job First (SJF)',
        'priority': 'Priority Scheduling',
        'rr': 'Round Robin'
    };
    
    let exportText = '========================================\n';
    exportText += 'SCHEDULING ALGORITHM RESULTS\n';
    exportText += `Algorithm: ${algorithmNames[algorithm]}\n`;
    exportText += '========================================\n\n';
    
    exportText += 'Process Details:\n';
    processes.forEach(p => {
        exportText += `Process ${p.id}: Arrival=${p.arrivalTime}, Burst=${p.burstTime}`;
        if (algorithm === 'priority') {
            exportText += `, Priority=${p.priority}`;
        }
        exportText += '\n';
    });
    exportText += '\n';
    
    if (algorithm === 'rr') {
        const timeQuantum = document.getElementById('timeQuantum').value;
        exportText += `Time Quantum: ${timeQuantum}\n\n`;
    }
    
    exportText += resultsDiv.innerText;
    exportText += '\n\n========================================\n';
    exportText += 'Generated by OS Simulator\n';
    exportText += `Date: ${new Date().toLocaleString()}\n`;
    exportText += '========================================\n';
    
    downloadAsFile('scheduling-results.txt', exportText);
    
    const exportSection = document.getElementById('schedulingExport');
    if (exportSection) {
        exportSection.style.display = 'flex';
    }
}

function copySchedulingResults() {
    const resultsDiv = document.getElementById('schedulingResults');
    if (!resultsDiv || resultsDiv.innerHTML.trim() === '') {
        alert('No results to copy. Please calculate first.');
        return;
    }
    
    copyToClipboard(resultsDiv.innerText);
}

// Make functions global
window.loadSchedulingSample = loadSchedulingSample;
window.exportSchedulingResults = exportSchedulingResults;
window.copySchedulingResults = copySchedulingResults;

